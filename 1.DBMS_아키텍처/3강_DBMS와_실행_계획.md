사용자는 RDB를 조작할 때 **SQL**이라는 전용 언어를 사용합니다.  
SQL 구문을 읽어들인 DBMS가 알아서 처리하고 결과를 제공합니다.

---

## 1. 권한 이양의 죄악

C, 자바, 루비와 같은 절차가 기초가 되는 언어는 사용자가 데이터에 접근하기 위한 절차(How)를 책임지고 기술하는 것이 전제입니다.  
반면 RDM는 모든 일을 사용자가 아니라 시스템에 맡깁니다. 따라서 사용자가 하는 일은 대상(What)을 기술합니다.

- *How*를 의식하지 않고 사용하기 때문에 성능 문제가 생길 수 있음
- 사용자는 RDB가 숨기고 있는 내부 절차를 파악할 필요가 있음

---

## 2. 데이터에 접근하는 방법은 어떻게 결정할까?

데이터 접근 절차를 결정하는 모듈을 **쿼리 평가 엔진**입니다.

- ### 쿼리 처리 과정

  1. ### 파서

     - 구문 분석(오류 체크)
     - 형식 변환(내부 처리 효율👍)

  2. ### 옵티마이저

     - 데이터 접근법(실행 계획) 최적화
     - 인덱스 유무, 데이터 분산 또는 편향 정도, DBMS 내부 매개변수 등 조건을 고려하여 선택 가능한 많은 실행 계획 작성하고, 가장 낮은 비용을 가진 실행 비용을 선택함

  3. ### 카탈로그 매니저
     - 카탈로그란 ?
       - DBMS의 내부 정보를 모아놓은 테이블 또는 인덱스 통계 정보가 저장됨
         - 각 테이블의 레코드 수
         - 각 테이블의 필드 수와 필드의 크기
         - 필드의 카디널리티(값의 개수)
         - 필드값의 히스토그램(값의 분포)
         - 필드 내부에 있는 NULL 수
         - 인덱스 정보
     - 옵티마이저가 실행 계획을 세울 때 정보를 제공함
  4. ### 플랜 평가
     - 옵티마이저가 세운 실행 계획을 평가하고 선택함
     - 선택한 실행 계획을 절차적인 코드로 변환, 데이터 접근 수행함

---

## 3. 옵티마이저와 통계 정보

- 카탈로그의 정보가 갱신되지 않거나 통계 정보가 부족할 경우,  
  옵티마이저는 오래된 정보를 바탕으로 실행 계획을 세움

- 최적의 실행 계획이 작성되게 하려면?
  - 테이블에 데이터가 많이 바뀌면 카탈로그의 통계 정보도 함께 갱신해야 함
  - 통계 정보 갱신은 테이블 또는 인덱스의 크기와 수에 따라 시간이 소요됨
  - 실행 비용이 굉장히 높은 작업이지만, 최적의 플랜을 선택하려면 필요한 조건임
  - 그래서 갱신 시점을 확실하게 검토해야함
